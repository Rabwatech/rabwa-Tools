# 🌐 نظام الترجمة - RABWA Tools

## تم إضافة نظام ترجمة كامل للمشروع يدعم اللغة العربية والإنجليزية

### 📋 المميزات المضافة:

#### 1. **زر تبديل اللغة**
- موجود في الناف بار في الجهة اليمنى (بجانب زر الثيم)
- موجود في القائمة المتحركة للجوال
- موجود في الفوتر في القسم السفلي
- يعرض "العربية" أو "English" حسب اللغة الحالية
- يعمل على جميع الأجهزة (سطح المكتب والجوال)

#### 2. **دعم كامل للترجمة**
- جميع النصوص في المشروع مترجمة
- صفحة Landing مترجمة بالكامل
- صفحة Tools (Index) مترجمة بالكامل
- صفحة Features مترجمة بالكامل
- صفحة NotFound مترجمة بالكامل
- الناف بار والفوتر مترجمان بالكامل

#### 3. **دعم RTL للعربية**
- تغيير اتجاه النص من اليمين إلى اليسار
- تحديث `dir` و `lang` attributes في HTML
- CSS مخصص لدعم RTL

#### 4. **حفظ التفضيل**
- يحفظ اختيار اللغة في localStorage
- يتذكر اللغة المختارة عند إعادة تحميل الصفحة
- **مشكلة محلولة**: اللغة تحفظ الآن عند التنقل بين الصفحات

### 🔧 **حل مشكلة حفظ اللغة:**

#### المشكلة السابقة:
- عند تغيير اللغة للعربية والانتقال لصفحة أخرى، كانت اللغة تعود للإنجليزية
- اللغة لم تكن تحفظ بشكل صحيح في localStorage

#### الحل المطبق:
1. **تحسين هوك useLanguage**: إضافة تحديث إجباري للـ localStorage
2. **إضافة LanguageProvider**: مزود سياق يتحقق من اللغة المحفوظة
3. **مزامنة في كل صفحة**: كل صفحة تتحقق من اللغة المحفوظة عند التحميل
4. **تحديث document attributes**: تحديث `dir` و `lang` في كل صفحة

#### الملفات المحدثة:
- `src/hooks/use-language.ts` - تحسين حفظ اللغة
- `src/components/providers/language-provider.tsx` - مزود السياق
- `src/pages/Landing.tsx` - مزامنة اللغة
- `src/pages/Index.tsx` - مزامنة اللغة
- `src/pages/Features.tsx` - مزامنة اللغة
- `src/pages/NotFound.tsx` - مزامنة اللغة

### 🎯 **أين تجد زر تبديل اللغة الآن:**

#### 1. **في الناف بار (Header):**
- في الجهة اليمنى من الناف بار
- بجانب زر تبديل الثيم
- يعرض النص الكامل: "العربية" أو "English"

#### 2. **في القائمة المتحركة للجوال:**
- عند فتح القائمة على الأجهزة الصغيرة
- في الأعلى قبل روابط التنقل
- يعرض النص الكامل: "العربية" أو "English"

#### 3. **في الفوتر (Footer):**
- في القسم السفلي من الفوتر
- بجانب حقوق النشر
- يعرض النص الكامل: "العربية" أو "English"

### 🛠️ الملفات المضافة:

```
src/
├── locales/
│   ├── ar.ts          # الترجمة العربية
│   ├── en.ts          # الترجمة الإنجليزية
│   └── index.ts       # فهرس الترجمات
├── hooks/
│   └── use-language.ts # هوك إدارة اللغة (محسن)
├── components/
│   ├── ui/
│   │   └── language-toggle.tsx # زر تبديل اللغة
│   └── providers/
│       └── language-provider.tsx # مزود السياق (جديد)
```

### 🚀 كيفية الاستخدام:

#### 1. **في المكونات:**
```tsx
import { useLanguage } from '@/hooks/use-language';

const MyComponent = () => {
  const { t, language, setLanguage, dir } = useLanguage();
  
  return (
    <div>
      <h1>{t('nav.home')}</h1>
      <p>{t('landing.subtitle')}</p>
    </div>
  );
};
```

#### 2. **إضافة ترجمات جديدة:**

في `src/locales/ar.ts`:
```tsx
export const ar = {
  mySection: {
    title: 'عنوان جديد',
    description: 'وصف جديد'
  }
};
```

في `src/locales/en.ts`:
```tsx
export const en = {
  mySection: {
    title: 'New Title',
    description: 'New Description'
  }
};
```

#### 3. **استخدام الترجمة:**
```tsx
const title = t('mySection.title');
const description = t('mySection.description');
```

### 📝 النصوص المترجمة:

#### الصفحات:
- ✅ Landing Page
- ✅ Tools Page (Index)
- ✅ Features Page
- ✅ NotFound Page

#### المكونات:
- ✅ Navbar
- ✅ Footer
- ✅ Language Toggle (في 3 مواقع)

#### الفئات:
- ✅ Text & Writing → النصوص والكتابة
- ✅ Conversion → التحويل
- ✅ Financial → مالي
- ✅ Color & Design → الألوان والتصميم
- ✅ Productivity → الإنتاجية
- ✅ File Tools → أدوات الملفات
- ✅ Miscellaneous → متنوعات

### 🎯 نصائح للتطوير:

1. **استخدم مفاتيح واضحة:** `nav.home` بدلاً من `home`
2. **نظم الترجمات في مجموعات:** `landing.title` بدلاً من `landingTitle`
3. **اختبر على اللغتين:** تأكد من أن التخطيط يعمل على العربية والإنجليزية
4. **استخدم Fallback:** إذا لم توجد الترجمة، سيعرض المفتاح نفسه

### 🐛 استكشاف الأخطاء:

#### إذا لم يعمل زر تبديل اللغة:
1. تأكد من أن `LanguageProvider` موجود في `App.tsx`
2. تحقق من أن `zustand` مثبت: `npm install zustand`
3. افتح Developer Tools وابحث عن أخطاء في Console

#### إذا لم تظهر الترجمات:
1. تأكد من أن المفتاح موجود في ملفات الترجمة
2. استخدم `t('key')` وليس `t.key`
3. تحقق من أن الهوك `useLanguage` مستورد بشكل صحيح

#### إذا لم تحفظ اللغة:
1. تأكد من أن `LanguageProvider` يغلف التطبيق
2. تحقق من أن كل صفحة تستخدم `useLanguage`
3. تأكد من أن localStorage يعمل في المتصفح

### 📱 دعم الجوال:
- زر اللغة يعرض "ع" للعربية و "EN" للإنجليزية على الشاشات الصغيرة
- جميع النصوص تدعم RTL على الجوال
- التخطيط يتكيف مع اتجاه النص
- زر اللغة متاح في القائمة المتحركة للجوال

### 🎨 تصميم زر اللغة:
- **العربية**: خلفية خضراء مع مؤشر أخضر
- **الإنجليزية**: خلفية زرقاء مع مؤشر أزرق
- تأثيرات انتقال ناعمة عند التبديل
- تصميم متجاوب لجميع الأحجام

### 🔄 **كيفية عمل حفظ اللغة الآن:**

1. **عند تغيير اللغة**: يتم حفظها في localStorage فوراً
2. **عند تحميل أي صفحة**: تتحقق من localStorage وتطبق اللغة المحفوظة
3. **عند التنقل بين الصفحات**: اللغة تبقى كما هي
4. **عند إعادة تحميل الصفحة**: اللغة تعود كما كانت

### 🎉 النتيجة النهائية:
المشروع الآن يدعم اللغة العربية بالكامل مع:
- ✅ زر تبديل اللغة في 3 مواقع (الناف بار، القائمة المتحركة، الفوتر)
- ✅ جميع النصوص مترجمة
- ✅ دعم RTL للعربية
- ✅ **حفظ تفضيل اللغة (مشكلة محلولة)**
- ✅ انتقالات سلسة بين اللغات
- ✅ تصميم جميل ومتجاوب
- ✅ **اللغة تحفظ عند التنقل بين الصفحات**
